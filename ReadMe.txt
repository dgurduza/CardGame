В игру всегда играют втроем. На столе бесконечная случайно перемешанная колода
карт. Карты представляют собой целые числа в диапазоне от 1 до 10 (включительно). В
начальный момент времени у игроков нулевой баланс. Игроки (в программе они
должны представлять собой потоки - threads) пытаются взять карту из колоды
параллельно и положить ее к себе в стопку, распихивая всех локтями. Взятие карты
игроком приводит к увеличению баланса этого игрока на значение этой карты. После
взятия карты игроки отдыхают (спят случайное время от 100 до 200 мс). В один
момент времени только один игрок может взять карту, а остальные или отдыхают,
или ждут, пока он её возьмет. Спустя 10 секунд после начала игры крупье прерывает
игроков от попыток что-либо сделать и ждёт, когда все игроки успокоятся, а затем
публикует баланс каждого игрока. После чего он (крупье) объявляет победителя
(игрока с наибольшим балансом). В ходе игры игроки не знают баланс друг друга.
Ваня был удачлив и выиграл много денег, играя в эту игру, но однажды ему не повезло
и он сел за стол с Колей и Петей….. А они оказались профессиональными шулерами.
Шулера (в отличие от честных игроков) вместо того, чтобы выполнить свой ход, могут
воровать очки с баланса честных игроков (шулера всегда играют в команде) и
записывать эти очки на свой баланс. Они выбирают такое действие с вероятностью 0.4
(40%) после отдыха. Но это действие намного сложнее, чем просто взять карту из
колоды (и растолкать других игроков локтями), поэтому им требуется больше времени
на отдых после этого (и они после этого спят случайное время от 180 до 300 мс).
Шулер может своровать в каждой попытке от 0 до 8 очков, это количество каждый раз
определяется случайно (если на балансе игрока не хватает очков, то крадется
максимальное возможное количество; размер баланса игрока не должен быть
отрицательным).
Надо понимать, что воровство баллов предполагает не только уменьшение баланса
обворованного игрока, но и соответствующее увеличение баланса шулера.